<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav class="sidenav-nav">
      <mat-list>
        <mat-list-item>
          <button mat-button routerLink="/" routerLinkActive>
            <mat-icon>inbox</mat-icon>
            Inbox
          </button>
        </mat-list-item>
        <mat-list-item>
          <button mat-button routerLink="/snoozed" routerLinkActive>
            <mat-icon>alarm</mat-icon>
            Snoozed
          </button>
        </mat-list-item>
        <mat-list-item>
          <button mat-button routerLink="/done" routerLinkActive>
            <mat-icon>done</mat-icon>
            Done
          </button>
        </mat-list-item>
        <mat-list-item>
          <hr />
        </mat-list-item>
        <mat-list-item>
          <button mat-button routerLink="/drafts" routerLinkActive>
            <mat-icon>drafts</mat-icon>
            Drafts
          </button>
        </mat-list-item>
        <mat-list-item>
          <button mat-button routerLink="/sent" routerLinkActive>
            <mat-icon>send</mat-icon>
            Sent
          </button>
        </mat-list-item>
        <mat-list-item>
          <button mat-button routerLink="/spam" routerLinkActive>
            <mat-icon>report_problem</mat-icon>
            Spam
          </button>
        </mat-list-item>
      </mat-list>
    </mat-sidenav>
    <div class="sidenav-content">
      <mat-toolbar color="primary" role="header" fxLayout="row" class="primary-toolbar">
        <div fxFlex="50px">
          <button type="button" class="menu-btn" mat-icon-button (click)="sidenav.open()">
            <mat-icon>menu</mat-icon>
          </button>
        </div>
        <div fxFlex="100px">
          Inbox
        </div>
        <div fxFlex fxFill class="search-col">
          <input type="text" class="search-bar" placeholder="Search..." />
          <mat-slide-toggle class="pin-toggle"></mat-slide-toggle>
        </div>
        <div fxFlex="200px" class="avatar-col">
          <span class="avatar accent-1 large">
            AM
          </span>
        </div>
      </mat-toolbar>
      <content>
        <mat-list>
          <mat-list-item class="category-title">
            Today
          </mat-list-item>
          
          <mat-accordion multi="true"  *ngFor="let message of messages; let i = index;">
            
            <app-message
              [avatar]="message.avatar"
              [from]="message.from"
              [subject]="message.subject"
              [body]="message.body"
              [recieved]="message.recieved"
              (removed)="onRemove(i)"
              (reply)="onNewMessage($event)">
            </app-message>
          </mat-accordion>
          
        </mat-list>
      </content>
      <button
        mat-fab
        color="accent"
        class="new-fab"
        (click)="onNewMessage()"
        matTooltip="New Message"
        matTooltipPosition="before">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </mat-sidenav-container>