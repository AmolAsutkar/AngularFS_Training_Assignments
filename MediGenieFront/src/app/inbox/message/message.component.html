<mat-card>
<mat-expansion-panel (opened)="opened = true" (closed)="opened = false" hideToggle="true">
      <mat-expansion-panel-header>
        <div
          class="message-toolbar"
          fxLayoutAlign="start center"
          fxLayout="row">
          <div fxFlex="50px" [fxShow]="!opened">
            <span class="avatar accent-1">
              {{avatar}}
            </span>
          </div>
          <div fxFlex="20%" [fxShow]="!opened">
            {{from}}
          </div>
          <div fxFlex  class="message-subject">
            {{subject}}
          </div>
          <div fxFlex="nogrow" fx-layout-align="end"  class="btn-col">
            <button mat-icon-button (click)="removed.emit()" matTooltip="Delete" matTooltipPosition="above">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        </mat-expansion-panel-header>
        <div class="message-body" fxLayout="row">
          <div fxFlex="50px">
            <span class="avatar accent-1 large">
              {{avatar}}
            </span>
          </div>
          <div fxFlex>
            <div class="message-body-toolbar">
              <span class="message-from">{{from}}</span> <span class="message-to">to me</span>
              <button mat-icon-button class="message-more" [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu class="message-more-menu" #menu="matMenu" [overlapTrigger]="false" xPosition="before">
                <button mat-menu-item (click)="onReply()">
                  <mat-icon>reply</mat-icon>
                  Reply
                </button>
                <button mat-menu-item (click)="onReply()">
                  <mat-icon>forward</mat-icon>
                  Forward
                </button>
                <hr />
                <button mat-menu-item>
                  <mat-icon>print</mat-icon>
                  Print
              </button>
              </mat-menu>
            </div>
            <div [innerHTML]="body"></div>
          </div>
        </div>
    </mat-expansion-panel>
</mat-card>